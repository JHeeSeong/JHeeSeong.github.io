---
title: "Maven vs Gradle"
date: 2020-09-04 16:21:00 -0200
categories: Build Management Tool
---

## Maven이란

- 스프링 프로젝트에서의 pom.xml이다.
- 네트워크를 통해 라이브러리를 repository에서 자동 다운로드 한다.
- maven의 기능을 이용하기 위해 POM(Project Object Model)을 사용한다.

### POM의 기능
- 프로젝트 정보 : 프로젝트의 이름, 개발자 목록, 라이센스 등
- 빌드 설정 : 소스, 리소스, 라이프 사이클별 실행한 플러그인(goal)등 빌드와 관련된 설정
- 빌드 환경 : 사용자 환경 별로 달라질 수 있는 프로파일 정보
- POM연관 정보 : 의존 프로젝트(모듈), 상위 프로젝트, 포함하고 있는 하위 모듈 등

### Maven Life Cycle
- Clean : 이전 빌드에서 생성된 파일들을 삭제하는 단계
- Validate : 프로젝트 상태 점검, 빌드에 필요한 정보 존재 유무 확인하는 단계
- Compile : 프로젝트의 소스코드를 컴파일하는 단계
- Test : 단위 테스트 프레임워크를 이용해 테스트 수행하는 단계(테스트 실패시 빌드 실패로 처리, 스킵 가능)
- Package : 개발자가 선택한 war, jar 등의 패키징 하는 단계
- Verify : 통합테스트 결과에 대한 검사를 실행하여 패키지가 품질 기준에 적합한지 검사
- Install : 패키지를 로컬 저장소에 설치하는 단계
- Site : 프로젝트 문서를 생성하는 단계
- Deploy : 만들어진 패키지를 원격 저장소에 배포하는 단계


## Gradle이란

- Ant Builder와 Groovy Script 기반으로 구축되어 기존 Ant의 역할과 배포 스크립트의 기능을 모두 사용 가능하다.
- 설정 주입 방식(Configuration Injection)을 사용한다.
Groovy DSL(Domain-Specific Language)로 작성하며, 설정 정보는 변수에 값을 넣는 형태로, 동적인 빌드는 Groovy 스크립트로 Gradle용 플로그인을 호출하거나 직접 코드를 작성한다.
- Gradle의 경우 별도의 빌드스크립트를 통하여 사용할 어플리케이션 버전, 라이브러리등의 항목을 설정 한다.
- 빌드 시 Gradle이 Maven보다 빠르다.

      → Incrementality : 작업의 입력 및 출력을 추척하여 필요한것만 실행
      → Build Cache : 동일한 입력에 대해 다른 Gradle 빌드의 출력물이라도 재사용 가능
      → Gradle Daemon : 빌드 정보를 메모리에 유지하여 프로세스를 장기간 유지

## 빌드 관리 툴인 Gradle이 Maven보다 좋은점

- Build라는 동적인 요소를 XML로 정의하기에는 어려운 부분이 많다.
- Maven은 설정 내용이 길어지고 가독성 떨어짐
- 의존관계가 복잡한 프로젝트 설정하기에는 부적절
- 상속구조를 이용한 멀티 모듈 구현이 가능
- 특정 설정을 소수의 모듈에서 공유하기 위해서는 부모 프로젝트를 생성하여 상속하게 해야함 (상속의 단점 생김)
- Gradle은 그루비를 사용하기 때문에, 동적인 빌드는 Groovy 스크립트로 플러그인을 호출하거나 직접 코드를 짜면 된다.
- Configuration Injection 방식을 사용해서 공통 모듈을 상속해서 사용하는 단점을 커버했다.
- 설정 주입시 프로젝트의 조건을 체크할 수 있어서 프로젝트별로 주입되는 설정을 다르게 할 수 있다.
